{% extends "base.html" %}

{% block content %}
    <h2>選択肢の編集</h2>
    <p><strong>質問:</strong> {{ question.text }}</p>

    <form method="post">
        {% csrf_token %}
        {{ formset.management_form }}
        
        <div id="form-container">
            {% for form in formset %}
                <div class="form-row" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    {{ form.id }}
                    {{ form.text }}
                    {% if form.instance.pk %}
                        {{ form.DELETE }} <label for="{{ form.DELETE.id_for_label }}">削除する</label>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
        
        <button type="submit" class="btn btn-primary">保存する</button>
        <a href="{% url 'poll_manage_detail' question.poll.pk %}"><button type="button" class="btn btn-secondary">キャンセル</button></a>
    </form>
{% endblock %}